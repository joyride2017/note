<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/note/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/note/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/note/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/note/favicon.ico?v=5.1.2" />






<meta name="description" content="Reference: Chris Albon Data manipulating:123456789import pandas as pdfrom IPython.display import displayfrom IPython.display import Imageraw_data = &amp;#123;        &apos;subject_id&apos;: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;">
<meta property="og:type" content="article">
<meta property="og:title" content="Data manipulating">
<meta property="og:url" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/index.html">
<meta property="og:site_name" content="Local Playground">
<meta property="og:description" content="Reference: Chris Albon Data manipulating:123456789import pandas as pdfrom IPython.display import displayfrom IPython.display import Imageraw_data = &amp;#123;        &apos;subject_id&apos;: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_1.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_2.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_3.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_4.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_5.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_6.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_7.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_8.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_9.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_10.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_11.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_12.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_13.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_14.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_15.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_01.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_02.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_03.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_04.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_05.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_06.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_07.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_08.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_09.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_10.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_11.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_11.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_12.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_13.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_14.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/concatenating_along_an_axis_15.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/data_with_overlap_01.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/data_with_overlap_02.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/data_with_overlap_03.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/data_with_overlap_04.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/data_with_overlap_05.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_01.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_02.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_03.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_04.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_05.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_06.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_07.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_08.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_09.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_10.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/reshape_11.png">
<meta property="og:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/pivot_01.png">
<meta property="og:updated_time" content="2017-10-22T00:20:12.677Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Data manipulating">
<meta name="twitter:description" content="Reference: Chris Albon Data manipulating:123456789import pandas as pdfrom IPython.display import displayfrom IPython.display import Imageraw_data = &amp;#123;        &apos;subject_id&apos;: [&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;">
<meta name="twitter:image" content="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/merge_on_index_1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/note/',
    scheme: 'Gemini',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://joyride2017.github.io/note/2017/10/18/Data-manipulating/"/>





  <title>Data manipulating | Local Playground</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/note/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Local Playground</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/note/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joyride2017.github.io/note/note/2017/10/18/Data-manipulating/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="n0body">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/note/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Local Playground">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Data manipulating</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-10-18T11:23:07-05:00">
                2017-10-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>Reference: <a href="https://chrisalbon.com/python/pandas_join_merge_dataframe.html" target="_blank" rel="external">Chris Albon</a></p>
<h4 id="Data-manipulating"><a href="#Data-manipulating" class="headerlink" title="Data manipulating:"></a>Data manipulating:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> display</div><div class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> Image</div><div class="line">raw_data = &#123;</div><div class="line">        <span class="string">'subject_id'</span>: [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>],</div><div class="line">        <span class="string">'first_name'</span>: [<span class="string">'Alex'</span>, <span class="string">'Amy'</span>, <span class="string">'Allen'</span>, <span class="string">'Alice'</span>, <span class="string">'Ayoung'</span>],</div><div class="line">        <span class="string">'last_name'</span>: [<span class="string">'Anderson'</span>, <span class="string">'Ackerman'</span>, <span class="string">'Ali'</span>, <span class="string">'Aoni'</span>, <span class="string">'Atiches'</span>]&#125;</div><div class="line">df_a = pd.DataFrame(raw_data, columns = [<span class="string">'subject_id'</span>, <span class="string">'first_name'</span>, <span class="string">'last_name'</span>])</div><div class="line">df_a</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">raw_data = &#123;</div><div class="line">        <span class="string">'subject_id'</span>: [<span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>],</div><div class="line">        <span class="string">'first_name'</span>: [<span class="string">'Billy'</span>, <span class="string">'Brian'</span>, <span class="string">'Bran'</span>, <span class="string">'Bryce'</span>, <span class="string">'Betty'</span>],</div><div class="line">        <span class="string">'last_name'</span>: [<span class="string">'Bonder'</span>, <span class="string">'Black'</span>, <span class="string">'Balwner'</span>, <span class="string">'Brice'</span>, <span class="string">'Btisan'</span>]&#125;</div><div class="line">df_b = pd.DataFrame(raw_data, columns = [<span class="string">'subject_id'</span>, <span class="string">'first_name'</span>, <span class="string">'last_name'</span>])</div><div class="line">df_b</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">6</td>
<td style="text-align:center">Bran</td>
<td style="text-align:center">Balwner</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">7</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">raw_data = &#123;</div><div class="line">        <span class="string">'subject_id'</span>: [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'10'</span>, <span class="string">'11'</span>],</div><div class="line">        <span class="string">'test_id'</span>: [<span class="number">51</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">61</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">1</span>, <span class="number">61</span>, <span class="number">16</span>]&#125;</div><div class="line">df_n = pd.DataFrame(raw_data, columns = [<span class="string">'subject_id'</span>,<span class="string">'test_id'</span>])</div><div class="line">df_n</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">test_id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">51</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">61</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">7</td>
<td style="text-align:center">14</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">8</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">9</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">10</td>
<td style="text-align:center">61</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">11</td>
<td style="text-align:center">16</td>
</tr>
</tbody>
</table>
<h5 id="Join-the-two-dataframes-along-rows"><a href="#Join-the-two-dataframes-along-rows" class="headerlink" title="Join the two dataframes along rows"></a>Join the two dataframes along rows</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">df_new = pd.concat([df_a, df_b])</div><div class="line">df_new</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">6</td>
<td style="text-align:center">Bran</td>
<td style="text-align:center">Balwner</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">7</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
</tr>
</tbody>
</table>
<h5 id="Join-the-two-dataframes-along-columns"><a href="#Join-the-two-dataframes-along-columns" class="headerlink" title="Join the two dataframes along columns"></a>Join the two dataframes along columns</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([df_a, df_b], axis=<span class="number">1</span>)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
<td style="text-align:center">6</td>
<td style="text-align:center">Bran</td>
<td style="text-align:center">Balwner</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">7</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">8</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
</tr>
</tbody>
</table>
<h5 id="Merge-two-dataframes-along-the-subject-id-value"><a href="#Merge-two-dataframes-along-the-subject-id-value" class="headerlink" title="Merge two dataframes along the subject_id value"></a>Merge two dataframes along the subject_id value</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_new, df_n, on=<span class="string">'subject_id'</span>)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
<th style="text-align:center">test_id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
<td style="text-align:center">51</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">61</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
<td style="text-align:center">61</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">7</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
<td style="text-align:center">14</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
<td style="text-align:center">15</td>
</tr>
</tbody>
</table>
<h5 id="Merge-two-dataframes-with-both-the-left-and-right-dataframes-using-the-subject-id-key"><a href="#Merge-two-dataframes-with-both-the-left-and-right-dataframes-using-the-subject-id-key" class="headerlink" title="Merge two dataframes with both the left and right dataframes using the subject_id key"></a>Merge two dataframes with both the left and right dataframes using the subject_id key</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_new, df_n, left_on=<span class="string">'subject_id'</span>, right_on=<span class="string">'subject_id'</span>)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name</th>
<th style="text-align:center">last_name</th>
<th style="text-align:center">test_id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
<td style="text-align:center">51</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">61</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
<td style="text-align:center">61</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">7</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
<td style="text-align:center">14</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
<td style="text-align:center">15</td>
</tr>
</tbody>
</table>
<p>What if we use different keys as arguments?</p>
<h5 id="Merge-with-outer-join"><a href="#Merge-with-outer-join" class="headerlink" title="Merge with outer join"></a>Merge with outer join</h5><blockquote>
<p>Full outer join produces the set of all records in Table A and Table B, with matching records from both sides where available. If there is no match, the missing side will contain null.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_a, df_b, on=<span class="string">'subject_id'</span>, how=<span class="string">'outer'</span>)</div></pre></td></tr></table></figure></p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name_x</th>
<th style="text-align:center">last_name_x</th>
<th style="text-align:center">first_name_y</th>
<th style="text-align:center">last_name_y</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">6</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Bran</td>
<td style="text-align:center">Balwner</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
</tr>
</tbody>
</table>
<h5 id="Merge-with-inner-join"><a href="#Merge-with-inner-join" class="headerlink" title="Merge with inner join"></a>Merge with inner join</h5><p>Inner join produces only the set of records that match in both Table A and Table B.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_a, df_b, on=<span class="string">'subject_id'</span>, how=<span class="string">'inner'</span>)</div></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name_x</th>
<th style="text-align:center">last_name_x</th>
<th style="text-align:center">first_name_y</th>
<th style="text-align:center">last_name_y</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
</tbody>
</table>
<p>The outer join takes the union of the keys, combining the effect of applying both left and right joins.</p>
<h5 id="Merge-with-right-join"><a href="#Merge-with-right-join" class="headerlink" title="Merge with right join"></a>Merge with right join</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_a, df_b, on=<span class="string">'subject_id'</span>, how=<span class="string">'right'</span>)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name_x</th>
<th style="text-align:center">last_name_x</th>
<th style="text-align:center">first_name_y</th>
<th style="text-align:center">last_name_y</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">6</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Bran</td>
<td style="text-align:center">Balwner</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">7</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
</tr>
</tbody>
</table>
<h5 id="Merge-while-adding-a-suffix-to-duplicate-column-names"><a href="#Merge-while-adding-a-suffix-to-duplicate-column-names" class="headerlink" title="Merge while adding a suffix to duplicate column names"></a>Merge while adding a suffix to duplicate column names</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_a, df_b, on=<span class="string">'subject_id'</span>, how=<span class="string">'left'</span>, suffixes=(<span class="string">'_left'</span>, <span class="string">'_right'</span>))</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id</th>
<th style="text-align:center">first_name_left</th>
<th style="text-align:center">last_name_left</th>
<th style="text-align:center">first_name_right</th>
<th style="text-align:center">last_name_right</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
</tbody>
</table>
<h5 id="Merge-based-on-indexes"><a href="#Merge-based-on-indexes" class="headerlink" title="Merge based on indexes"></a>Merge based on indexes</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(df_a, df_b, right_index=<span class="keyword">True</span>, left_index=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">subject_id_x</th>
<th style="text-align:center">first_name_x</th>
<th style="text-align:center">last_name_x</th>
<th style="text-align:center">subject_id_y</th>
<th style="text-align:center">first_name_y</th>
<th style="text-align:center">last_name_y</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">Alex</td>
<td style="text-align:center">Anderson</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Billy</td>
<td style="text-align:center">Bonder</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">Amy</td>
<td style="text-align:center">Ackerman</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Brian</td>
<td style="text-align:center">Black</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">Allen</td>
<td style="text-align:center">Ali</td>
<td style="text-align:center">6</td>
<td style="text-align:center">Bran</td>
<td style="text-align:center">Balwner</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">Alice</td>
<td style="text-align:center">Aoni</td>
<td style="text-align:center">7</td>
<td style="text-align:center">Bryce</td>
<td style="text-align:center">Brice</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">Ayoung</td>
<td style="text-align:center">Atiches</td>
<td style="text-align:center">8</td>
<td style="text-align:center">Betty</td>
<td style="text-align:center">Btisan</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</div><div class="line"><span class="keyword">from</span> numpy.random <span class="keyword">import</span> randn</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</div><div class="line"><span class="keyword">import</span> pandas</div><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">df1 = DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>],<span class="string">'data1'</span>: range(<span class="number">7</span>)&#125;)</div><div class="line">df2 = DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>],<span class="string">'data2'</span>: range(<span class="number">3</span>)&#125;)</div><div class="line">df1</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">data1</th>
<th style="text-align:center">key</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">b</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">b</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
<td style="text-align:center">a</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">3</td>
<td style="text-align:center">c</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
<td style="text-align:center">a</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">5</td>
<td style="text-align:center">a</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">6</td>
<td style="text-align:center">b</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">df2</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">data2</th>
<th style="text-align:center">key</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<h5 id="Database-style-DataFrame-merges"><a href="#Database-style-DataFrame-merges" class="headerlink" title="Database-style DataFrame merges"></a>Database-style DataFrame merges</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</div><div class="line"><span class="keyword">from</span> numpy.random <span class="keyword">import</span> randn</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line">np.random.seed(<span class="number">12345</span>)</div><div class="line">plt.rc(<span class="string">'figure'</span>, figsize=(<span class="number">10</span>, <span class="number">6</span>))</div><div class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</div><div class="line"><span class="keyword">import</span> pandas</div><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line">np.set_printoptions(precision=<span class="number">4</span>, threshold=<span class="number">500</span>)</div><div class="line">pd.options.display.max_rows = <span class="number">100</span></div></pre></td></tr></table></figure>
<p>If the column names are different in each object, you can specify them separately:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">df3 = DataFrame(&#123;<span class="string">'lkey'</span>: [<span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>],<span class="string">'data1'</span>: range(<span class="number">7</span>)&#125;)</div><div class="line">df4 = DataFrame(&#123;<span class="string">'rkey'</span>: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>],<span class="string">'data2'</span>: range(<span class="number">3</span>)&#125;)</div><div class="line"></div><div class="line">pd.merge(df3, df4, left_on=<span class="string">'lkey'</span>, right_on=<span class="string">'rkey'</span>)</div></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">data1</th>
<th style="text-align:center">lkey</th>
<th style="text-align:center">data2</th>
<th style="text-align:center">rkey</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">b</td>
<td style="text-align:center">1</td>
<td style="text-align:center">b</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">b</td>
<td style="text-align:center">1</td>
<td style="text-align:center">b</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">6</td>
<td style="text-align:center">b</td>
<td style="text-align:center">1</td>
<td style="text-align:center">b</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">2</td>
<td style="text-align:center">a</td>
<td style="text-align:center">0</td>
<td style="text-align:center">a</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
<td style="text-align:center">a</td>
<td style="text-align:center">0</td>
<td style="text-align:center">a</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">5</td>
<td style="text-align:center">a</td>
<td style="text-align:center">0</td>
<td style="text-align:center">a</td>
</tr>
</tbody>
</table>
<p>Merge with multiple keys:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">left = DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'foo'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>],</div><div class="line">                  <span class="string">'key2'</span>: [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'one'</span>],</div><div class="line">                  <span class="string">'lval'</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]&#125;)</div><div class="line">right = DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'foo'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'bar'</span>],</div><div class="line">                   <span class="string">'key2'</span>: [<span class="string">'one'</span>, <span class="string">'one'</span>, <span class="string">'one'</span>, <span class="string">'two'</span>],</div><div class="line">                   <span class="string">'rval'</span>: [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]&#125;)</div><div class="line">pd.merge(left, right, on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>], how=<span class="string">'outer'</span>)</div></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">key1</th>
<th style="text-align:center">key2</th>
<th style="text-align:center">lval</th>
<th style="text-align:center">rval</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">one</td>
<td style="text-align:center">1</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">one</td>
<td style="text-align:center">1</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">two</td>
<td style="text-align:center">2</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">bar</td>
<td style="text-align:center">one</td>
<td style="text-align:center">3</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">bar</td>
<td style="text-align:center">two</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">7</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(left, right, on=<span class="string">'key1'</span>)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">key1</th>
<th style="text-align:center">key2_x</th>
<th style="text-align:center">lval</th>
<th style="text-align:center">key2_y</th>
<th style="text-align:center">rval</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">one</td>
<td style="text-align:center">1</td>
<td style="text-align:center">one</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">one</td>
<td style="text-align:center">1</td>
<td style="text-align:center">one</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">two</td>
<td style="text-align:center">2</td>
<td style="text-align:center">one</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">two</td>
<td style="text-align:center">2</td>
<td style="text-align:center">one</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">bar</td>
<td style="text-align:center">one</td>
<td style="text-align:center">3</td>
<td style="text-align:center">one</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">bar</td>
<td style="text-align:center">one</td>
<td style="text-align:center">3</td>
<td style="text-align:center">two</td>
<td style="text-align:center">7</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(left, right, on=<span class="string">'key1'</span>, suffixes=(<span class="string">'_left'</span>, <span class="string">'_right'</span>))</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">key1</th>
<th style="text-align:center">key2_left</th>
<th style="text-align:center">lval</th>
<th style="text-align:center">key2_right</th>
<th style="text-align:center">rval</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">one</td>
<td style="text-align:center">1</td>
<td style="text-align:center">one</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">one</td>
<td style="text-align:center">1</td>
<td style="text-align:center">one</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">two</td>
<td style="text-align:center">2</td>
<td style="text-align:center">one</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">foo</td>
<td style="text-align:center">two</td>
<td style="text-align:center">2</td>
<td style="text-align:center">one</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">bar</td>
<td style="text-align:center">one</td>
<td style="text-align:center">3</td>
<td style="text-align:center">one</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">bar</td>
<td style="text-align:center">one</td>
<td style="text-align:center">3</td>
<td style="text-align:center">two</td>
<td style="text-align:center">7</td>
</tr>
</tbody>
</table>
<h5 id="Merge-on-Index"><a href="#Merge-on-Index" class="headerlink" title="Merge on Index"></a>Merge on Index</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">left1 = DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>],</div><div class="line">                   <span class="string">'value'</span>: range(<span class="number">6</span>)&#125;)</div><div class="line">right1 = DataFrame(&#123;<span class="string">'group_val'</span>: [<span class="number">3.5</span>, <span class="number">7</span>]&#125;, index=[<span class="string">'a'</span>, <span class="string">'b'</span>])</div><div class="line"></div><div class="line">left1</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">key</th>
<th style="text-align:center">value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">a</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">b</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">a</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">a</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">b</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">c</td>
<td style="text-align:center">5</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">right1</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_1.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(left1, right1, left_on=<span class="string">'key'</span>, right_index=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_2.png" alt=""></p>
<p>Since the default merge method is to intersect the join keys, you can instead form the union of them with an outer join:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(left1, right1, left_on=<span class="string">'key'</span>, right_index=<span class="keyword">True</span>, how=<span class="string">'outer'</span>)</div></pre></td></tr></table></figure></p>
<p><img src="merge_on_index_3.png" alt=""></p>
<h5 id="Merge-with-hierarchically-indexed-data"><a href="#Merge-with-hierarchically-indexed-data" class="headerlink" title="Merge with hierarchically-indexed data:"></a>Merge with hierarchically-indexed data:</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">lefth = DataFrame(&#123;<span class="string">'key1'</span>: [<span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>],</div><div class="line">                   <span class="string">'key2'</span>: [<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2001</span>, <span class="number">2002</span>],</div><div class="line">                   <span class="string">'data'</span>: np.arange(<span class="number">5.</span>)&#125;)</div><div class="line">righth = DataFrame(np.arange(<span class="number">12</span>).reshape((<span class="number">6</span>, <span class="number">2</span>)),</div><div class="line">                   index=[[<span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>, <span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>],</div><div class="line">                          [<span class="number">2001</span>, <span class="number">2000</span>, <span class="number">2000</span>, <span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>]],</div><div class="line">                   columns=[<span class="string">'event1'</span>, <span class="string">'event2'</span>])</div><div class="line">lefth</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_4.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">righth</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_5.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(lefth, righth, left_on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>], right_index=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_6.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pd.merge(lefth, righth, left_on=[<span class="string">'key1'</span>, <span class="string">'key2'</span>],</div><div class="line">         right_index=<span class="keyword">True</span>, how=<span class="string">'outer'</span>)</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_7.png" alt="test"></p>
<p>Using the indexes of both sides of the merge:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">left2 = DataFrame([[<span class="number">1.</span>, <span class="number">2.</span>], [<span class="number">3.</span>, <span class="number">4.</span>], [<span class="number">5.</span>, <span class="number">6.</span>]], index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'e'</span>],</div><div class="line">                 columns=[<span class="string">'Ohio'</span>, <span class="string">'Nevada'</span>])</div><div class="line"></div><div class="line">left2</div></pre></td></tr></table></figure></p>
<p><img src="merge_on_index_8.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">right2 = DataFrame([[<span class="number">7.</span>, <span class="number">8.</span>], [<span class="number">9.</span>, <span class="number">10.</span>], [<span class="number">11.</span>, <span class="number">12.</span>], [<span class="number">13</span>, <span class="number">14</span>]],</div><div class="line">                   index=[<span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>], columns=[<span class="string">'Missouri'</span>, <span class="string">'Alabama'</span>])</div><div class="line"></div><div class="line">right2</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_9.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.merge(left2, right2, how=<span class="string">'outer'</span>, left_index=<span class="keyword">True</span>, right_index=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_10.png" alt="test"></p>
<p>The same outcome could be done by a more convenient instance <code>join</code> for DataFrame.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">left2.join(right2, how=<span class="string">'outer'</span>)</div></pre></td></tr></table></figure></p>
<p><img src="merge_on_index_11.png" alt="test"></p>
<p>Join also supports joining the index of the passed DataFrame on one of the columns of the calling DataFrame:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">left1.join(right1, on=<span class="string">'key'</span>)</div></pre></td></tr></table></figure></p>
<p><img src="merge_on_index_12.png" alt="test"></p>
<p>For simple index-on-index merges, you can pass a list of DataFrames to join as an alternative to using the more general <code>concat</code> function described below:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">another = DataFrame([[<span class="number">7.</span>, <span class="number">8.</span>], [<span class="number">9.</span>, <span class="number">10.</span>], [<span class="number">11.</span>, <span class="number">12.</span>], [<span class="number">16.</span>, <span class="number">17.</span>]],</div><div class="line">                    index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>], columns=[<span class="string">'New York'</span>, <span class="string">'Oregon'</span>])</div><div class="line">another</div></pre></td></tr></table></figure></p>
<p><img src="merge_on_index_13.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">left2.join([right2, another])</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_14.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">left2.join([right2, another], how=<span class="string">'outer'</span>)</div></pre></td></tr></table></figure>
<p><img src="merge_on_index_15.png" alt="test"></p>
<h5 id="Concatenating-along-an-axis"><a href="#Concatenating-along-an-axis" class="headerlink" title="Concatenating along an axis"></a>Concatenating along an axis</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">arr = np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>, <span class="number">4</span>))</div><div class="line"></div><div class="line">arr</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_01.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">np.concatenate([arr, arr], axis=<span class="number">1</span>)</div><div class="line"></div><div class="line">s1 = Series([<span class="number">0</span>, <span class="number">1</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>])</div><div class="line">s2 = Series([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</div><div class="line">s3 = Series([<span class="number">5</span>, <span class="number">6</span>], index=[<span class="string">'f'</span>, <span class="string">'g'</span>])</div><div class="line"></div><div class="line">pd.concat([s1, s2, s3])</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_02.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([s1, s2, s3], axis=<span class="number">1</span>)</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_03.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s4 = pd.concat([s1 * <span class="number">5</span>, s3])</div><div class="line"></div><div class="line">s4</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_04.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([s1, s4], axis=<span class="number">1</span>)</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_05.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([s1, s4], axis=<span class="number">1</span>, join=<span class="string">'inner'</span>)</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_06.png" alt="test"><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([s1, s4], axis=<span class="number">1</span>, join_axes=[[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'e'</span>]])</div></pre></td></tr></table></figure></p>
<p><img src="concatenating_along_an_axis_07.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">result = pd.concat([s1, s1, s3], keys=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>])</div><div class="line"></div><div class="line">result</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_08.png" alt="test"></p>
<p>Suppose instead you wanted to create a hierarchical index on the concatenation axis. Use the <code>keys</code> argument:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Much more on the unstack function later</span></div><div class="line">result.unstack()</div></pre></td></tr></table></figure></p>
<p><img src="concatenating_along_an_axis_09.png" alt="test"></p>
<p>In the case of combining Series along axis=1, the keys become the DataFrame column headers:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([s1, s2, s3], axis=<span class="number">1</span>, keys=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>])</div></pre></td></tr></table></figure></p>
<p><img src="concatenating_along_an_axis_10.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">df1 = DataFrame(np.arange(<span class="number">6</span>).reshape(<span class="number">3</span>, <span class="number">2</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>],</div><div class="line">                columns=[<span class="string">'one'</span>, <span class="string">'two'</span>])</div><div class="line">df2 = DataFrame(<span class="number">5</span> + np.arange(<span class="number">4</span>).reshape(<span class="number">2</span>, <span class="number">2</span>), index=[<span class="string">'a'</span>, <span class="string">'c'</span>],</div><div class="line">                columns=[<span class="string">'three'</span>, <span class="string">'four'</span>])</div><div class="line">pd.concat([df1, df2], axis=<span class="number">1</span>, keys=[<span class="string">'level1'</span>, <span class="string">'level2'</span>])</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_11.png" alt="test"></p>
<p>If you pass a dict of objects instead of a list, the dict’s keys will be used for the keys option:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat(&#123;<span class="string">'level1'</span>: df1, <span class="string">'level2'</span>: df2&#125;, axis=<span class="number">1</span>)</div></pre></td></tr></table></figure></p>
<p><img src="concatenating_along_an_axis_11.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pd.concat([df1, df2], axis=<span class="number">1</span>, keys=[<span class="string">'level1'</span>, <span class="string">'level2'</span>],</div><div class="line">          names=[<span class="string">'upper'</span>, <span class="string">'lower'</span>])</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_12.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">df1 = DataFrame(np.random.randn(<span class="number">3</span>, <span class="number">4</span>), columns=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</div><div class="line">df2 = DataFrame(np.random.randn(<span class="number">2</span>, <span class="number">3</span>), columns=[<span class="string">'b'</span>, <span class="string">'d'</span>, <span class="string">'a'</span>])</div><div class="line"></div><div class="line">df1</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_13.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">df2</div></pre></td></tr></table></figure>
<p><img src="concatenating_along_an_axis_14.png" alt="test"></p>
<p>If the row index is not meaningful in the context of the analysis:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pd.concat([df1, df2], ignore_index=<span class="keyword">True</span>)</div></pre></td></tr></table></figure></p>
<p><img src="concatenating_along_an_axis_15.png" alt="test"></p>
<h5 id="Combining-data-with-overlap"><a href="#Combining-data-with-overlap" class="headerlink" title="Combining data with overlap"></a>Combining data with overlap</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">a = Series([np.nan, <span class="number">2.5</span>, np.nan, <span class="number">3.5</span>, <span class="number">4.5</span>, np.nan],</div><div class="line">           index=[<span class="string">'f'</span>, <span class="string">'e'</span>, <span class="string">'d'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>])</div><div class="line">b = Series(np.arange(len(a), dtype=np.float64),</div><div class="line">           index=[<span class="string">'f'</span>, <span class="string">'e'</span>, <span class="string">'d'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>])</div><div class="line">a</div></pre></td></tr></table></figure>
<p><img src="data_with_overlap_01.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">b</div></pre></td></tr></table></figure>
<p><img src="data_with_overlap_02.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">b[<span class="number">-1</span>] = np.nan</div><div class="line"></div><div class="line">b</div></pre></td></tr></table></figure>
<p><img src="data_with_overlap_03.png" alt="test"></p>
<p>Assign new values<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">np.where(pd.isnull(a), b, a) <span class="comment"># array([ 0. ,  2.5,  2. ,  3.5,  4.5,  nan])</span></div><div class="line"></div><div class="line">b[:<span class="number">-2</span>].combine_first(a[<span class="number">2</span>:])</div></pre></td></tr></table></figure></p>
<p><img src="data_with_overlap_04.png" alt="test"></p>
<p>With DataFrames, combine_first naturally does the same thing column by column, so you can think of it as “patching” missing data in the calling object with data from the object you pass:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">df1 = DataFrame(&#123;<span class="string">'a'</span>: [<span class="number">1.</span>, np.nan, <span class="number">5.</span>, np.nan],</div><div class="line">                 <span class="string">'b'</span>: [np.nan, <span class="number">2.</span>, np.nan, <span class="number">6.</span>],</div><div class="line">                 <span class="string">'c'</span>: range(<span class="number">2</span>, <span class="number">18</span>, <span class="number">4</span>)&#125;)</div><div class="line">df2 = DataFrame(&#123;<span class="string">'a'</span>: [<span class="number">5.</span>, <span class="number">4.</span>, np.nan, <span class="number">3.</span>, <span class="number">7.</span>],</div><div class="line">                 <span class="string">'b'</span>: [np.nan, <span class="number">3.</span>, <span class="number">4.</span>, <span class="number">6.</span>, <span class="number">8.</span>]&#125;)</div><div class="line">df1.combine_first(df2)</div></pre></td></tr></table></figure></p>
<p><img src="data_with_overlap_05.png" alt="test"></p>
<h5 id="Reshaping-with-hierarchical-indexing"><a href="#Reshaping-with-hierarchical-indexing" class="headerlink" title="Reshaping with hierarchical indexing"></a>Reshaping with hierarchical indexing</h5><p>Hierarchical indexing provides a consistent way to rearrange data in a DataFrame. There are two primary actions:</p>
<ul>
<li>stack: this <code>rotates</code> or pivots from the columns in the data to the rows.</li>
<li>unstack: this pivots from the rows into the columns.<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data = DataFrame(np.arange(<span class="number">6</span>).reshape((<span class="number">2</span>, <span class="number">3</span>)),</div><div class="line">                 index=pd.Index([<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>], name=<span class="string">'state'</span>),</div><div class="line">                 columns=pd.Index([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], name=<span class="string">'number'</span>))</div><div class="line">data</div></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="reshape_01.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">result = data.stack()</div><div class="line">result</div></pre></td></tr></table></figure>
<p><img src="reshape_02.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">result.unstack() <span class="comment"># revert the stacking process</span></div><div class="line"></div><div class="line">result.unstack(<span class="number">0</span>)</div></pre></td></tr></table></figure>
<p><img src="reshape_03.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result.unstack(<span class="string">'state'</span>)</div></pre></td></tr></table></figure>
<p><img src="reshape_04.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">s1 = Series([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</div><div class="line">s2 = Series([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], index=[<span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</div><div class="line">data2 = pd.concat([s1, s2], keys=[<span class="string">'one'</span>, <span class="string">'two'</span>])</div><div class="line">data2</div></pre></td></tr></table></figure>
<p><img src="reshape_05.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">data2.unstack()</div></pre></td></tr></table></figure>
<p><img src="reshape_06.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">data2.unstack().stack()</div></pre></td></tr></table></figure>
<p><img src="reshape_07.png" alt="test"></p>
<p>Stacking filters out missing data by default, so the operation is easily invertible:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">data2.unstack().stack(dropna=<span class="keyword">False</span>)</div></pre></td></tr></table></figure></p>
<p><img src="reshape_08.png" alt="test"></p>
<p>When unstacking in a DataFrame, the level unstacked becomes the lowest level in the result:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># result is the DataFrame created above</span></div><div class="line">df = DataFrame(&#123;<span class="string">'left'</span>: result, <span class="string">'right'</span>: result + <span class="number">5</span>&#125;,</div><div class="line">               columns=pd.Index([<span class="string">'left'</span>, <span class="string">'right'</span>], name=<span class="string">'side'</span>))</div><div class="line">df</div></pre></td></tr></table></figure></p>
<p><img src="reshape_09.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">df.unstack(<span class="string">'state'</span>)</div></pre></td></tr></table></figure>
<p><img src="reshape_10.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">df.unstack(<span class="string">'state'</span>).stack(<span class="string">'side'</span>)</div></pre></td></tr></table></figure>
<p><img src="reshape_11.png" alt="test"></p>
<h5 id="Pivoting-LONG-to-WIDE-format"><a href="#Pivoting-LONG-to-WIDE-format" class="headerlink" title="Pivoting LONG to WIDE format"></a>Pivoting LONG to WIDE format</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> os</div><div class="line">os.chdir(<span class="string">'F:/note/source/_posts/Data-manipulating'</span>)</div><div class="line">data = pd.read_csv(<span class="string">'ch07/macrodata.csv'</span>)</div><div class="line">data.head(<span class="number">5</span>)</div></pre></td></tr></table></figure>
<p><img src="pivot_01.png" alt="test"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">periods = pd.PeriodIndex(year=data.year, quarter=data.quarter, name=<span class="string">'date'</span>)</div><div class="line">data = DataFrame(data.to_records(),</div><div class="line">                 columns=pd.Index([<span class="string">'realgdp'</span>, <span class="string">'infl'</span>, <span class="string">'unemp'</span>], name=<span class="string">'item'</span>),</div><div class="line">                 index=periods.to_timestamp(<span class="string">'D'</span>, <span class="string">'end'</span>))</div><div class="line"></div><div class="line">ldata = data.stack().reset_index().rename(columns=&#123;<span class="number">0</span>: <span class="string">'value'</span>&#125;)</div><div class="line">wdata = ldata.pivot(<span class="string">'date'</span>, <span class="string">'item'</span>, <span class="string">'value'</span>)</div><div class="line"></div><div class="line">ldata[:<span class="number">10</span>]</div><div class="line"></div><div class="line">pivoted = ldata.pivot(<span class="string">'date'</span>, <span class="string">'item'</span>, <span class="string">'value'</span>)</div><div class="line">pivoted.head()</div><div class="line"></div><div class="line">ldata[<span class="string">'value2'</span>] = np.random.randn(len(ldata))</div><div class="line">ldata[:<span class="number">10</span>]</div><div class="line"></div><div class="line">pivoted = ldata.pivot(<span class="string">'date'</span>, <span class="string">'item'</span>)</div><div class="line">pivoted[:<span class="number">5</span>]</div><div class="line"></div><div class="line">pivoted[<span class="string">'value'</span>][:<span class="number">5</span>]</div><div class="line"></div><div class="line">unstacked = ldata.set_index([<span class="string">'date'</span>, <span class="string">'item'</span>]).unstack(<span class="string">'item'</span>)</div><div class="line">unstacked[:<span class="number">7</span>]</div></pre></td></tr></table></figure>
<h5 id="Removing-duplicates"><a href="#Removing-duplicates" class="headerlink" title="Removing duplicates"></a>Removing duplicates</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">data = DataFrame(&#123;<span class="string">'k1'</span>: [<span class="string">'one'</span>] * <span class="number">3</span> + [<span class="string">'two'</span>] * <span class="number">4</span>,</div><div class="line">                  <span class="string">'k2'</span>: [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]&#125;)</div><div class="line">data</div><div class="line"></div><div class="line">data.duplicated()</div><div class="line"></div><div class="line">data.drop_duplicates()</div><div class="line"></div><div class="line">data[<span class="string">'v1'</span>] = range(<span class="number">7</span>)</div><div class="line">data.drop_duplicates([<span class="string">'k1'</span>])</div><div class="line"></div><div class="line">data.drop_duplicates([<span class="string">'k1'</span>, <span class="string">'k2'</span>], take_last=<span class="keyword">True</span>)</div></pre></td></tr></table></figure>
<h5 id="Transforming-data-using-a-function-or-mapping"><a href="#Transforming-data-using-a-function-or-mapping" class="headerlink" title="Transforming data using a function or mapping"></a>Transforming data using a function or mapping</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">data = DataFrame(&#123;<span class="string">'food'</span>: [<span class="string">'bacon'</span>, <span class="string">'pulled pork'</span>, <span class="string">'bacon'</span>, <span class="string">'Pastrami'</span>,</div><div class="line">                           <span class="string">'corned beef'</span>, <span class="string">'Bacon'</span>, <span class="string">'pastrami'</span>, <span class="string">'honey ham'</span>,</div><div class="line">                           <span class="string">'nova lox'</span>],</div><div class="line">                  <span class="string">'ounces'</span>: [<span class="number">4</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">7.5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>]&#125;)</div><div class="line">data</div><div class="line"></div><div class="line">meat_to_animal = &#123;</div><div class="line">  <span class="string">'bacon'</span>: <span class="string">'pig'</span>,</div><div class="line">  <span class="string">'pulled pork'</span>: <span class="string">'pig'</span>,</div><div class="line">  <span class="string">'pastrami'</span>: <span class="string">'cow'</span>,</div><div class="line">  <span class="string">'corned beef'</span>: <span class="string">'cow'</span>,</div><div class="line">  <span class="string">'honey ham'</span>: <span class="string">'pig'</span>,</div><div class="line">  <span class="string">'nova lox'</span>: <span class="string">'salmon'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">data[<span class="string">'animal'</span>] = data[<span class="string">'food'</span>].map(str.lower).map(meat_to_animal)</div><div class="line">data</div><div class="line"></div><div class="line">data[<span class="string">'food'</span>].map(<span class="keyword">lambda</span> x: meat_to_animal[x.lower()])</div></pre></td></tr></table></figure>
<h5 id="Replacing-values"><a href="#Replacing-values" class="headerlink" title="Replacing values"></a>Replacing values</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">data = Series([<span class="number">1.</span>, <span class="number">-999.</span>, <span class="number">2.</span>, <span class="number">-999.</span>, <span class="number">-1000.</span>, <span class="number">3.</span>])</div><div class="line">data</div><div class="line"></div><div class="line">data.replace(<span class="number">-999</span>, np.nan)</div><div class="line"></div><div class="line">data.replace([<span class="number">-999</span>, <span class="number">-1000</span>], np.nan)</div><div class="line"></div><div class="line">data.replace([<span class="number">-999</span>, <span class="number">-1000</span>], [np.nan, <span class="number">0</span>])</div><div class="line"></div><div class="line">data.replace(&#123;<span class="number">-999</span>: np.nan, <span class="number">-1000</span>: <span class="number">0</span>&#125;)</div></pre></td></tr></table></figure>
<h5 id="Renaming-axis-indexes"><a href="#Renaming-axis-indexes" class="headerlink" title="Renaming axis indexes"></a>Renaming axis indexes</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">data = DataFrame(np.arange(<span class="number">12</span>).reshape((<span class="number">3</span>, <span class="number">4</span>)),</div><div class="line">                 index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'New York'</span>],</div><div class="line">                 columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>])</div><div class="line"></div><div class="line">data.index.map(str.upper)</div><div class="line"></div><div class="line">data.index = data.index.map(str.upper)</div><div class="line">data</div><div class="line"></div><div class="line">data.rename(index=str.title, columns=str.upper)</div><div class="line"></div><div class="line">data.rename(index=&#123;<span class="string">'OHIO'</span>: <span class="string">'INDIANA'</span>&#125;,</div><div class="line">            columns=&#123;<span class="string">'three'</span>: <span class="string">'peekaboo'</span>&#125;)</div><div class="line"></div><div class="line"><span class="comment"># Always returns a reference to a DataFrame</span></div><div class="line">_ = data.rename(index=&#123;<span class="string">'OHIO'</span>: <span class="string">'INDIANA'</span>&#125;, inplace=<span class="keyword">True</span>)</div><div class="line">data</div></pre></td></tr></table></figure>
<h5 id="Discretization-and-binning"><a href="#Discretization-and-binning" class="headerlink" title="Discretization and binning"></a>Discretization and binning</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">ages = [<span class="number">20</span>, <span class="number">22</span>, <span class="number">25</span>, <span class="number">27</span>, <span class="number">21</span>, <span class="number">23</span>, <span class="number">37</span>, <span class="number">31</span>, <span class="number">61</span>, <span class="number">45</span>, <span class="number">41</span>, <span class="number">32</span>]</div><div class="line"></div><div class="line">bins = [<span class="number">18</span>, <span class="number">25</span>, <span class="number">35</span>, <span class="number">60</span>, <span class="number">100</span>]</div><div class="line">cats = pd.cut(ages, bins)</div><div class="line">cats</div><div class="line"></div><div class="line">cats.labels</div><div class="line"></div><div class="line">cats.levels</div><div class="line"></div><div class="line">pd.value_counts(cats)</div><div class="line"></div><div class="line">pd.cut(ages, [<span class="number">18</span>, <span class="number">26</span>, <span class="number">36</span>, <span class="number">61</span>, <span class="number">100</span>], right=<span class="keyword">False</span>)</div><div class="line"></div><div class="line">group_names = [<span class="string">'Youth'</span>, <span class="string">'YoungAdult'</span>, <span class="string">'MiddleAged'</span>, <span class="string">'Senior'</span>]</div><div class="line">pd.cut(ages, bins, labels=group_names)</div><div class="line"></div><div class="line">data = np.random.rand(<span class="number">20</span>)</div><div class="line">pd.cut(data, <span class="number">4</span>, precision=<span class="number">2</span>)</div><div class="line"></div><div class="line">data = np.random.randn(<span class="number">1000</span>) <span class="comment"># Normally distributed</span></div><div class="line">cats = pd.qcut(data, <span class="number">4</span>) <span class="comment"># Cut into quartiles</span></div><div class="line">cats</div><div class="line"></div><div class="line">pd.value_counts(cats)</div><div class="line"></div><div class="line">pd.qcut(data, [<span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0.5</span>, <span class="number">0.9</span>, <span class="number">1.</span>])</div></pre></td></tr></table></figure>
<h5 id="Detecting-and-filtering-outliers"><a href="#Detecting-and-filtering-outliers" class="headerlink" title="Detecting and filtering outliers"></a>Detecting and filtering outliers</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">np.random.seed(<span class="number">12345</span>)</div><div class="line">data = DataFrame(np.random.randn(<span class="number">1000</span>, <span class="number">4</span>))</div><div class="line">data.describe()</div><div class="line"></div><div class="line">col = data[<span class="number">3</span>]</div><div class="line">col[np.abs(col) &gt; <span class="number">3</span>]</div><div class="line"></div><div class="line">data[(np.abs(data) &gt; <span class="number">3</span>).any(<span class="number">1</span>)]</div><div class="line"></div><div class="line">data[np.abs(data) &gt; <span class="number">3</span>] = np.sign(data) * <span class="number">3</span></div><div class="line">data.describe()</div></pre></td></tr></table></figure>
<h5 id="Permutation-and-random-sampling"><a href="#Permutation-and-random-sampling" class="headerlink" title="Permutation and random sampling"></a>Permutation and random sampling</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">df = DataFrame(np.arange(<span class="number">5</span> * <span class="number">4</span>).reshape((<span class="number">5</span>, <span class="number">4</span>)))</div><div class="line">sampler = np.random.permutation(<span class="number">5</span>)</div><div class="line">sampler</div><div class="line"></div><div class="line">df</div><div class="line"></div><div class="line">df.take(sampler)</div><div class="line"></div><div class="line">df.take(np.random.permutation(len(df))[:<span class="number">3</span>])</div><div class="line"></div><div class="line">bag = np.array([<span class="number">5</span>, <span class="number">7</span>, <span class="number">-1</span>, <span class="number">6</span>, <span class="number">4</span>])</div><div class="line">sampler = np.random.randint(<span class="number">0</span>, len(bag), size=<span class="number">10</span>)</div><div class="line"></div><div class="line">sampler</div><div class="line"></div><div class="line">draws = bag.take(sampler)</div><div class="line">draws</div></pre></td></tr></table></figure>
<h5 id="Computing-indicator-dummy-variables"><a href="#Computing-indicator-dummy-variables" class="headerlink" title="Computing indicator/dummy variables"></a>Computing indicator/dummy variables</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">df = DataFrame(&#123;<span class="string">'key'</span>: [<span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>],</div><div class="line">                <span class="string">'data1'</span>: range(<span class="number">6</span>)&#125;)</div><div class="line">pd.get_dummies(df[<span class="string">'key'</span>])</div><div class="line"></div><div class="line">dummies = pd.get_dummies(df[<span class="string">'key'</span>], prefix=<span class="string">'key'</span>)</div><div class="line">df_with_dummy = df[[<span class="string">'data1'</span>]].join(dummies)</div><div class="line">df_with_dummy</div><div class="line"></div><div class="line">mnames = [<span class="string">'movie_id'</span>, <span class="string">'title'</span>, <span class="string">'genres'</span>]</div><div class="line">movies = pd.read_table(<span class="string">'ch07/movies.dat'</span>, sep=<span class="string">'::'</span>, header=<span class="keyword">None</span>,</div><div class="line">                        names=mnames)</div><div class="line">movies[:<span class="number">10</span>]</div><div class="line"></div><div class="line">genre_iter = (set(x.split(<span class="string">'|'</span>)) <span class="keyword">for</span> x <span class="keyword">in</span> movies.genres)</div><div class="line">genres = sorted(set.union(*genre_iter))</div><div class="line"></div><div class="line">dummies = DataFrame(np.zeros((len(movies), len(genres))), columns=genres)</div><div class="line"></div><div class="line"><span class="keyword">for</span> i, gen <span class="keyword">in</span> enumerate(movies.genres):</div><div class="line">    dummies.ix[i, gen.split(<span class="string">'|'</span>)] = <span class="number">1</span></div><div class="line"></div><div class="line">movies_windic = movies.join(dummies.add_prefix(<span class="string">'Genre_'</span>))</div><div class="line">movies_windic.ix[<span class="number">0</span>]</div><div class="line"></div><div class="line">np.random.seed(<span class="number">12345</span>)</div><div class="line"></div><div class="line">values = np.random.rand(<span class="number">10</span>)</div><div class="line">values</div><div class="line"></div><div class="line">bins = [<span class="number">0</span>, <span class="number">0.2</span>, <span class="number">0.4</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">1</span>]</div><div class="line">pd.get_dummies(pd.cut(values, bins))</div></pre></td></tr></table></figure>
<h4 id="String-manipulation"><a href="#String-manipulation" class="headerlink" title="String manipulation"></a>String manipulation</h4><h5 id="String-object-methods"><a href="#String-object-methods" class="headerlink" title="String object methods"></a>String object methods</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">val = <span class="string">'a,b,  guido'</span></div><div class="line">val.split(<span class="string">','</span>)</div><div class="line"></div><div class="line">pieces = [x.strip() <span class="keyword">for</span> x <span class="keyword">in</span> val.split(<span class="string">','</span>)]</div><div class="line">pieces</div><div class="line"></div><div class="line">first, second, third = pieces</div><div class="line">first + <span class="string">'::'</span> + second + <span class="string">'::'</span> + third</div><div class="line"></div><div class="line"><span class="string">'::'</span>.join(pieces)</div><div class="line"></div><div class="line"><span class="string">'guido'</span> <span class="keyword">in</span> val</div><div class="line"></div><div class="line">val.index(<span class="string">','</span>)</div><div class="line"></div><div class="line">val.find(<span class="string">':'</span>)</div><div class="line"></div><div class="line">val.index(<span class="string">':'</span>)</div><div class="line"></div><div class="line">val.count(<span class="string">','</span>)</div><div class="line"></div><div class="line">val.replace(<span class="string">','</span>, <span class="string">'::'</span>)</div><div class="line"></div><div class="line">val.replace(<span class="string">','</span>, <span class="string">''</span>)</div></pre></td></tr></table></figure>
<h5 id="Regular-expressions"><a href="#Regular-expressions" class="headerlink" title="Regular expressions"></a>Regular expressions</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line">text = <span class="string">"foo    bar\t baz  \tqux"</span></div><div class="line">re.split(<span class="string">'\s+'</span>, text)</div><div class="line"></div><div class="line">regex = re.compile(<span class="string">'\s+'</span>)</div><div class="line">regex.split(text)</div><div class="line"></div><div class="line">regex.findall(text)</div><div class="line"></div><div class="line">text = <span class="string">"""Dave dave@google.com</span></div><div class="line"><span class="string">Steve steve@gmail.com</span></div><div class="line"><span class="string">Rob rob@gmail.com</span></div><div class="line"><span class="string">Ryan ryan@yahoo.com</span></div><div class="line"><span class="string">"""</span></div><div class="line">pattern = <span class="string">r'[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]&#123;2,4&#125;'</span></div><div class="line"></div><div class="line"><span class="comment"># re.IGNORECASE makes the regex case-insensitive</span></div><div class="line">regex = re.compile(pattern, flags=re.IGNORECASE)</div><div class="line"></div><div class="line">regex.findall(text)</div><div class="line"></div><div class="line">m = regex.search(text)</div><div class="line">m</div><div class="line"></div><div class="line">text[m.start():m.end()]</div><div class="line"></div><div class="line">print(regex.match(text))</div><div class="line"></div><div class="line">print(regex.sub(<span class="string">'REDACTED'</span>, text))</div><div class="line"></div><div class="line">pattern = <span class="string">r'([A-Z0-9._%+-]+)@([A-Z0-9.-]+)\.([A-Z]&#123;2,4&#125;)'</span></div><div class="line">regex = re.compile(pattern, flags=re.IGNORECASE)</div><div class="line"></div><div class="line">m = regex.match(<span class="string">'wesm@bright.net'</span>)</div><div class="line">m.groups()</div><div class="line"></div><div class="line">regex.findall(text)</div><div class="line"></div><div class="line">print(regex.sub(<span class="string">r'Username: \1, Domain: \2, Suffix: \3'</span>, text))</div><div class="line"></div><div class="line">regex = re.compile(<span class="string">r"""</span></div><div class="line"><span class="string">    (?P&lt;username&gt;[A-Z0-9._%+-]+)</span></div><div class="line"><span class="string">    @</span></div><div class="line"><span class="string">    (?P&lt;domain&gt;[A-Z0-9.-]+)</span></div><div class="line"><span class="string">    \.</span></div><div class="line"><span class="string">    (?P&lt;suffix&gt;[A-Z]&#123;2,4&#125;)"""</span>, flags=re.IGNORECASE|re.VERBOSE)</div><div class="line"></div><div class="line">m = regex.match(<span class="string">'wesm@bright.net'</span>)</div><div class="line">m.groupdict()</div></pre></td></tr></table></figure>
<h5 id="Vectorized-string-functions-in-pandas"><a href="#Vectorized-string-functions-in-pandas" class="headerlink" title="Vectorized string functions in pandas"></a>Vectorized string functions in pandas</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">data = &#123;<span class="string">'Dave'</span>: <span class="string">'dave@google.com'</span>, <span class="string">'Steve'</span>: <span class="string">'steve@gmail.com'</span>,</div><div class="line">        <span class="string">'Rob'</span>: <span class="string">'rob@gmail.com'</span>, <span class="string">'Wes'</span>: np.nan&#125;</div><div class="line">data = Series(data)</div><div class="line"></div><div class="line">data</div><div class="line"></div><div class="line">data.isnull()</div><div class="line"></div><div class="line">data.str.contains(<span class="string">'gmail'</span>)</div><div class="line"></div><div class="line">pattern</div><div class="line"></div><div class="line">data.str.findall(pattern, flags=re.IGNORECASE)</div><div class="line"></div><div class="line">matches = data.str.match(pattern, flags=re.IGNORECASE)</div><div class="line">matches</div><div class="line"></div><div class="line">matches.str.get(<span class="number">1</span>)</div><div class="line"></div><div class="line">matches.str[<span class="number">0</span>]</div><div class="line"></div><div class="line">data.str[:<span class="number">5</span>]</div></pre></td></tr></table></figure>
<p>Example: USDA Food Database</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/note/2017/10/01/groupby/" rel="next" title="groupby">
                <i class="fa fa-chevron-left"></i> groupby
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">n0body</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/note/archives">
            
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Data-manipulating"><span class="nav-text">Data manipulating:</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Join-the-two-dataframes-along-rows"><span class="nav-text">Join the two dataframes along rows</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Join-the-two-dataframes-along-columns"><span class="nav-text">Join the two dataframes along columns</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-two-dataframes-along-the-subject-id-value"><span class="nav-text">Merge two dataframes along the subject_id value</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-two-dataframes-with-both-the-left-and-right-dataframes-using-the-subject-id-key"><span class="nav-text">Merge two dataframes with both the left and right dataframes using the subject_id key</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-with-outer-join"><span class="nav-text">Merge with outer join</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-with-inner-join"><span class="nav-text">Merge with inner join</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-with-right-join"><span class="nav-text">Merge with right join</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-while-adding-a-suffix-to-duplicate-column-names"><span class="nav-text">Merge while adding a suffix to duplicate column names</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-based-on-indexes"><span class="nav-text">Merge based on indexes</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Database-style-DataFrame-merges"><span class="nav-text">Database-style DataFrame merges</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-on-Index"><span class="nav-text">Merge on Index</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-with-hierarchically-indexed-data"><span class="nav-text">Merge with hierarchically-indexed data:</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Concatenating-along-an-axis"><span class="nav-text">Concatenating along an axis</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Combining-data-with-overlap"><span class="nav-text">Combining data with overlap</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Reshaping-with-hierarchical-indexing"><span class="nav-text">Reshaping with hierarchical indexing</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Pivoting-LONG-to-WIDE-format"><span class="nav-text">Pivoting LONG to WIDE format</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Removing-duplicates"><span class="nav-text">Removing duplicates</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Transforming-data-using-a-function-or-mapping"><span class="nav-text">Transforming data using a function or mapping</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Replacing-values"><span class="nav-text">Replacing values</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Renaming-axis-indexes"><span class="nav-text">Renaming axis indexes</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Discretization-and-binning"><span class="nav-text">Discretization and binning</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Detecting-and-filtering-outliers"><span class="nav-text">Detecting and filtering outliers</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Permutation-and-random-sampling"><span class="nav-text">Permutation and random sampling</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Computing-indicator-dummy-variables"><span class="nav-text">Computing indicator/dummy variables</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#String-manipulation"><span class="nav-text">String manipulation</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#String-object-methods"><span class="nav-text">String object methods</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Regular-expressions"><span class="nav-text">Regular expressions</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Vectorized-string-functions-in-pandas"><span class="nav-text">Vectorized string functions in pandas</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">n0body</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">Theme &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/note/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/note/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/note/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/note/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/note/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/note/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/note/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/note/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/note/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/note/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/note/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/note/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/note/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/note/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/note/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
